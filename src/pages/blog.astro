---
import TypedBlogPost from "@components/posts/TypedBlogPost.astro";
import BodyLayout from "@layouts/BodyLayout.astro";
import { getCollection } from "astro:content";

const blogPosts = await getCollection("blog");
---

<BodyLayout title="Blog">
  <section class="flex flex-row text-customGray">
    <div class="w-[75%]">
      <div class="flex flex-row gap-4">
        <h2 class="mb-4 font-bold text-2xl">Posts</h2>
        <a class="text-customPink" href="/posts">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            ><circle cx="6.18" cy="17.82" r="2.18" fill="currentColor"
            ></circle><path
              fill="currentColor"
              d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4c0 .71.53 1.28 1.23 1.4c2.92.51 5.22 2.82 5.74 5.74c.12.7.69 1.23 1.4 1.23c.85 0 1.54-.75 1.41-1.59a9.89 9.89 0 0 0-8.19-8.18m-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4c6.01.6 10.79 5.38 11.39 11.39c.07.73.67 1.28 1.4 1.28c.84 0 1.5-.73 1.42-1.56c-.73-7.34-6.57-13.19-13.92-13.92"
            ></path></svg
          >
        </a>
      </div>
      <ul class="text-customGray flex flex-col gap-4">
        {blogPosts.map((post) => <TypedBlogPost post={post} />)}
      </ul>
    </div>
    <div class="w-[25%] flex flex-col gap-4">
      <div class="flex flex-row gap-2">
        <h3 class="font-bold text-xl">Tags</h3>
        <img src="/src/assets/svg/tags.svg" alt="tags" width="20" height="20" />
      </div>
      <div>
        <ul class="flex flex-wrap gap-2">
          <li>
            <a
              class="underline decoration-2 hover:decoration-customPink"
              href="">#test</a
            >
          </li>
        </ul>
      </div>
      <div class="self-end">
        <a class="hover:text-customPink" href="/tags"> View all â†’ </a>
      </div>
    </div>
  </section>
</BodyLayout>
